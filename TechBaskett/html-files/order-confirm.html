<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order Confirmation - TechBaskett</title>
    <link rel="stylesheet" href="css-files/home.css" />
        <link rel="stylesheet" href="css-files/nav-footer.css">

    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <style>
      .confirmation-container {
        max-width: 800px;
        margin: 120px auto 50px;
        padding: 0 5%;
        text-align: center;
        margin-top: 0px;
        padding-top: 6%;
      }

      .confirmation-icon {
        font-size: 80px;
        color: #4caf50;
        margin-bottom: 20px;
      }

      .confirmation-title {
        font-size: 32px;
        margin-bottom: 15px;
        color: #333;
      }

      .confirmation-message {
        font-size: 18px;
        color: #666;
        margin-bottom: 30px;
      }

      .order-details {
        background: #f9f9f9;
        border-radius: 10px;
        padding: 25px;
        margin: 30px 0;
        text-align: left;
      }

      .detail-row {
        display: flex;
        margin-bottom: 15px;
      }

      .detail-label {
        font-weight: 600;
        width: 150px;
        color: #555;
      }

      .detail-value {
        flex: 1;
      }

      .action-buttons {
        margin-top: 30px;
      }

      .btn {
        display: inline-block;
        padding: 12px 25px;
        margin: 0 10px;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        text-decoration: none;
        transition: all 0.3s;
      }

      .btn-primary {
        background: #096d9c;
        color: #fff;
        border: 2px solid #096d9c;
      }

      .btn-primary:hover {
        background: #085f8a;
        border-color: #085f8a;
      }

      .btn-secondary {
        background: #fff;
        color: #096d9c;
        border: 2px solid #096d9c;
      }

      .btn-secondary:hover {
        background: #f5f5f5;
      }
    </style>
  </head>
  <body>
    <div class="main">
      <!-- Navigation Bar -->
      <div id="nav">
        <div id="nav_content">
          <div id="logo">
            <img
              src="Images/All YOUR TECH IN ONE BASKETT (1).png"
              alt="logo"
              height="50px"
              width="180px"
            />
          </div>

          <button id="menu-toggle">
            <i class="fas fa-bars"></i>
          </button>

          <div id="options">
            <button class="nav-btn"><a href="home.html">Home</a></button>
            <button class="nav-btn">
              <a href="All_products.html" target="_self">All Products</a>
            </button>
            <div class="dropdown">
              <button class="nav-btn" id="btn-drop">Categories</button>
              <div class="dropdown-content">
                <a href="Audio_products.html">Audio</a>
                <a href="Gaming_products.html">Gaming</a>
                <a href="Laptops.html">Laptops</a>
                <a href="Monitors.html">Monitors</a>
                <a href="Smart_wearables.html">Smart Wearables</a>
                <a href="Smartphones.html">Smartphones</a>
                <a href="Tablets.html">Tablets</a>
                <a href="TV.html">TVs</a>
              </div>
            </div>
            <button class="nav-btn"><a  href="contact.html">Contact</a></button>
          </div>
          <div id="icons">
            <a href="All_products.html"><i class="ri-search-line"></i></a>
            <a href="user-account.html"><i class="ri-user-line"></i></a>
            <a href="my-cart.html"><i class="ri-shopping-cart-line"></i></a>
          </div>
        </div>
      </div>

      <!-- Confirmation Content -->
      <div class="confirmation-container" id="confirmationContent">
        <div class="loading-message">Loading order details...</div>
      </div>

      <!-- Footer -->
      <footer>
        <div class="footer-content">
          <div class="footer-section">
            <h3>About Us</h3>
            <p>
              Your one-stop shop for premium tech products. Quality gadgets,
              fast delivery, and excellent customer service.
            </p>
            <div class="social-icons">
              <a href="#"><i class="ri-facebook-circle-fill"></i></a>
              <a href="#"><i class="ri-twitter-x-line"></i></a>
              <a href="#"><i class="ri-instagram-line"></i></a>
              <a href="#"><i class="ri-linkedin-box-fill"></i></a>
            </div>
          </div>

          <div class="footer-section">
            <h3>Quick Links</h3>
            <a href="home.html">Home</a>
            <a href="All_products.html">Products</a>
            <a href="about.html">About Us</a>
            <a href="contact.html">Contact</a>
            <a href="blog.html">Blog</a>
          </div>

          <div class="footer-section">
            <h3>Customer Service</h3>
            <a href="#">FAQ</a>
            <a href="#">Shipping Policy</a>
            <a href="#">Return Policy</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms & Conditions</a>
          </div>

          <div class="footer-section">
            <h3>Contact Us</h3>
            <p>
              <i class="ri-map-pin-line"></i> 123 Tech Street, Silicon Valley
            </p>
            <p><i class="ri-phone-line"></i> +91 92896 79231</p>
            <p><i class="ri-mail-line"></i>&nbsp; support@techbaskett.com</p>
          </div>
        </div>

        <div class="copyright">
          <p>&copy; 2023 TechBaskett. All Rights Reserved.</p>
        </div>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const loggedInUser = JSON.parse(localStorage.getItem("loggedInUser"));
        const confirmationContent = document.getElementById(
          "confirmationContent"
        );

        if (!loggedInUser) {
          confirmationContent.innerHTML = `
                    <div class="login-message">
                        <p>Please login to view your order</p>
                        <a href="user-account.html" class="login-btn">Login</a>
                    </div>
                `;
          return;
        }

        // Get order ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const orderId = parseInt(urlParams.get("orderId"));

        if (!orderId) {
          confirmationContent.innerHTML = `
                    <div style="text-align: center;">
                        <h2>Order Not Found</h2>
                        <p>We couldn't find the order you're looking for</p>
                        <a href="home.html" class="btn btn-primary">Back to Home</a>
                    </div>
                `;
          return;
        }

        // Find the order
        let orders = JSON.parse(localStorage.getItem("orders")) || {};
        const userOrders = orders[loggedInUser.email] || [];
        const order = userOrders.find((o) => o.id === orderId);

        if (!order) {
          confirmationContent.innerHTML = `
                    <div style="text-align: center;">
                        <h2>Order Not Found</h2>
                        <p>We couldn't find the order you're looking for</p>
                        <a href="home.html" class="btn btn-primary">Back to Home</a>
                    </div>
                `;
          return;
        }

        // Format date
        const orderDate = new Date(order.date);
        const formattedDate = orderDate.toLocaleDateString("en-US", {
          year: "numeric",
          month: "long",
          day: "numeric",
          hour: "2-digit",
          minute: "2-digit",
        });

        // Render confirmation
        confirmationContent.innerHTML = `
                <div class="confirmation-icon">
                    <i class="ri-checkbox-circle-fill"></i>
                </div>
                <h1 class="confirmation-title">Order Confirmed!</h1>
                <p class="confirmation-message">Thank you for your purchase. Your order has been received and is being processed.</p>
                
                <div class="order-details">
                    <div class="detail-row">
                        <div class="detail-label">Order Number:</div>
                        <div class="detail-value">#${order.id}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Date:</div>
                        <div class="detail-value">${formattedDate}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Total:</div>
                        <div class="detail-value">â‚¹${order.total.toLocaleString(
                          "en-IN"
                        )}</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Payment Method:</div>
                        <div class="detail-value">${
                          order.paymentMethod === "credit"
                            ? "Credit/Debit Card"
                            : order.paymentMethod === "upi"
                            ? "UPI"
                            : "Cash on Delivery"
                        }</div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Shipping To:</div>
                        <div class="detail-value">
                            ${order.shippingInfo.name}<br>
                            ${order.shippingInfo.address}<br>
                            ${order.shippingInfo.city}, ${
          order.shippingInfo.state
        } ${order.shippingInfo.zip}<br>
                            Phone: ${order.shippingInfo.phone}
                        </div>
                    </div>
                </div>
                
                <div class="action-buttons">
                    <a href="All_products.html" class="btn btn-secondary">Continue Shopping</a>
                    <a href="user-account.html" class="btn btn-primary">View Order History</a>
                </div>
            `;
      });
    </script>
  </body>
</html>
